{"version":3,"sources":["components/PhotoDetail/PhotoDetail.module.scss","components/PhotoItem/PhotoItem.module.scss","components/Header/Header.module.scss","components/PhotoGrid/PhotoGrid.module.scss","components/UI/DownloadLink/DownloadLink.module.scss","components/UI/Button/Button.module.scss","static/images/logo.svg","static/images/heart-icon.svg","components/Header/Header.tsx","hooks/useTypedSelector.ts","api/api.ts","api/index.ts","store/photoCollection/actions.ts","store/photoDetail/actions.ts","store/photoCollection/slice.ts","store/favorites/slice.ts","store/actionsImport.ts","hooks/useActions.ts","components/UI/Preloader/Preloader.tsx","static/images/maximize-icon.svg","components/UI/DownloadLink/DownloadLink.tsx","components/UI/Button/Button.tsx","utils/storage/storage.ts","utils/addInArr/handleAddInArr.ts","components/PhotoItem/PhotoItem.tsx","components/PhotoGrid/PhotoGrid.tsx","components/PhotoDetail/PhotoDetail.tsx","store/photoCollection/selectors.ts","store/photoDetail/selectors.ts","pages/Photo.tsx","utils/scroll/ScrollToTop.ts","pages/Home.tsx","store/favorites/selectors.ts","pages/Favorites.tsx","components/App/App.tsx","store/photoDetail/slice.ts","store/rootReducer.ts","store/index.ts","index.tsx"],"names":["module","exports","Header","className","css","header","header__top","to","logo","src","alt","favorites","heart","useTypedSelector","useSelector","apiInstance","axios","create","baseURL","process","headers","fetchPhotoById","params","get","id","fetchRelatedPhoto","fetchPhotos","page","limit","per_page","Api","handleFetchPhotos","createAsyncThunk","a","response","data","console","log","handleFetchRelatedPhotos","results","handleFetchPhotoById","photoSlice","createSlice","name","initialState","photos","loading","error","reducers","setPhotoPage","state","action","payload","clearPhotos","splice","length","extraReducers","builder","addCase","fulfilled","concat","actions","favoriteSlice","deletedId","checkedId","setIsDelete","setIsChecked","setFavoritesPhoto","PhotoCollectionActionCreators","PhotoDetailActionCreators","useActions","dispatch","useDispatch","bindActionCreators","ActionCreators","Preloader","Array","from","map","i","index","DownloadLink","children","downloadSrc","type","classNames","href","download","target","rel","viewBox","fill","xmlns","fillRule","clipRule","d","Button","onClick","setStorage","key","value","localStorage","setItem","JSON","stringify","getStorage","parse","getItem","handleAddInArr","localeStorageItem","favoritesArr","findIndex","item","push","PhotoItem","user","links","urls","alt_description","profile_image","small","large","maximizeIcon","data-id","breakpointColumns","default","1024","576","PhotoGrid","breakpointCols","columnClassName","items","PhotoDetail","regular","head","background","style","backgroundImage","blur","head__top","user__avatar","user__name","buttons","getPhotoCollection","photoCollection","getPhoto","photo","Photo","useParams","useEffect","window","scrollTo","top","Home","next","hasMore","loader","dataLength","scrollThreshold","getIsDelete","favorite","Favorites","App","exact","path","pending","rootReducer","combineReducers","store","configureStore","reducer","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.328c7c4a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"head\":\"PhotoDetail_head__3UPvz\",\"head__top\":\"PhotoDetail_head__top__2jeNP\",\"background\":\"PhotoDetail_background__1DQLg\",\"blur\":\"PhotoDetail_blur__2Zryt\",\"user\":\"PhotoDetail_user__2RjaB\",\"user__avatar\":\"PhotoDetail_user__avatar__DNY_5\",\"user__name\":\"PhotoDetail_user__name__31Yyl\",\"buttons\":\"PhotoDetail_buttons__3bi_a\",\"img-container\":\"PhotoDetail_img-container__1fACQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"PhotoItem_card__2EsHO\",\"card__info\":\"PhotoItem_card__info__3z4yA\",\"card__overlay\":\"PhotoItem_card__overlay__1V2ys\",\"owner\":\"PhotoItem_owner__1Jc9N\",\"owner__img\":\"PhotoItem_owner__img__3Xx-h\",\"owner__name\":\"PhotoItem_owner__name__2KYpW\",\"actions\":\"PhotoItem_actions__IByIU\",\"actions__item\":\"PhotoItem_actions__item__2gXoe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__26D_V\",\"header__top\":\"Header_header__top__M4u2y\",\"logo\":\"Header_logo__2X7Sr\",\"favorites\":\"Header_favorites__2NT_q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"grid-container\":\"PhotoGrid_grid-container__1FlHB\",\"grid\":\"PhotoGrid_grid__1cICr\",\"column\":\"PhotoGrid_column__2ZqEo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"download-link\":\"DownloadLink_download-link__3As0-\",\"inner-page\":\"DownloadLink_inner-page__3owtT\",\"inCard\":\"DownloadLink_inCard__wSbAX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"in-favorite\":\"Button_in-favorite__3t2F8\",\"inner-page\":\"Button_inner-page__2zB8O\",\"inCard\":\"Button_inCard__31FP5\"};","export default __webpack_public_path__ + \"static/media/logo.a2ae2b09.svg\";","export default __webpack_public_path__ + \"static/media/heart-icon.b07158dd.svg\";","import React, {FC} from 'react'\r\nimport css from './Header.module.scss'\r\nimport { Link } from 'react-router-dom';\r\nimport logo from '../../static/images/logo.svg'\r\nimport heart from '../../static/images/heart-icon.svg'\r\n\r\nexport const Header: FC = () => {\r\n    return (\r\n        <header className={css.header}>\r\n            <div className=\"container\">\r\n                <div className={css.header__top}>\r\n                    <Link to=\"/\" className={css.logo}>\r\n                        <img src={logo} alt=\"\"/>\r\n                        ImageStock\r\n                    </Link>\r\n\r\n                    <Link to=\"/favorites\" className={css.favorites}>\r\n                        <img src={heart} alt=\"\"/>\r\n                        Избранное\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n        </header>\r\n    );\r\n};","import {TypedUseSelectorHook, useSelector} from \"react-redux\";\r\nimport {RootState} from \"../store/rootReducer\";\r\n\r\nexport const useTypedSelector: TypedUseSelectorHook<RootState> = useSelector","import axios from \"axios\";\r\nimport {PhotoParamsType} from \"../types/photo\";\r\n\r\nconst apiInstance = axios.create({\r\n    baseURL: `${process.env.REACT_APP_API_URL}`,\r\n    headers: {\r\n        \"Authorization\": `Client-ID ${process.env.REACT_APP_API_KEY}`,\r\n    }\r\n});\r\n\r\nexport const fetchPhotoById = (params: PhotoParamsType) => {\r\n    return apiInstance.get(`/photos/${params.id}`)\r\n}\r\n\r\nexport const fetchRelatedPhoto = (params: PhotoParamsType) => {\r\n    return apiInstance.get(`/photos/${params.id}/related`)\r\n}\r\n\r\nexport const fetchPhotos = (page: number, limit: number) => {\r\n    return apiInstance.get(`/photos`,\r\n        {\r\n            params: {page, per_page: limit}\r\n        })\r\n}","import * as Api from './api'\r\n\r\nexport default {...Api}","import {createAsyncThunk} from \"@reduxjs/toolkit\";\r\nimport Api from '../../api'\r\nimport {PhotoParamsType} from \"../../types/photo\";\r\n\r\nconst {fetchPhotos, fetchRelatedPhoto} = Api\r\n\r\nexport const handleFetchPhotos = createAsyncThunk(\r\n    'photos/fetchPhotos',\r\n    async ({page, limit}: any) => {\r\n        try {\r\n            const response = await fetchPhotos(page, limit)\r\n            return response.data\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n)\r\n\r\nexport const handleFetchRelatedPhotos = createAsyncThunk(\r\n    'photos/fetchRelatedPhotos',\r\n    async (params: PhotoParamsType) => {\r\n        try {\r\n            const response = await fetchRelatedPhoto(params)\r\n            return response.data.results\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n)","import {createAsyncThunk} from \"@reduxjs/toolkit\";\r\nimport Api from '../../api'\r\nimport {PhotoParamsType} from \"../../types/photo\";\r\n\r\nconst {fetchPhotoById} = Api\r\n\r\nexport const handleFetchPhotoById = createAsyncThunk(\r\n    'photo/fetchPhotoById',\r\n    async (params: PhotoParamsType) => {\r\n        try {\r\n            const response = await fetchPhotoById(params)\r\n            return response.data\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n)","import {PhotoType, RelatedPhotoType} from \"../../types/photo\";\r\nimport {createSlice, PayloadAction} from \"@reduxjs/toolkit\";\r\nimport {handleFetchPhotos, handleFetchRelatedPhotos} from \"./actions\";\r\n\r\nexport interface PhotoState {\r\n    photos: PhotoType[]\r\n    loading: boolean\r\n    error: null | string\r\n    page: number\r\n    limit: number\r\n}\r\n\r\nconst initialState: PhotoState = {\r\n    photos: [],\r\n    loading: false,\r\n    error: null,\r\n    page: 1,\r\n    limit: 15\r\n}\r\n\r\nconst photoSlice = createSlice({\r\n    name: 'photoCollection',\r\n    initialState,\r\n    reducers: {\r\n        setPhotoPage(state, action: PayloadAction<number>) {\r\n            state.page = action.payload\r\n        },\r\n        clearPhotos(state) {\r\n            state.photos.splice(0, state.photos.length)\r\n        }\r\n    },\r\n    extraReducers: builder => {\r\n        builder.addCase(handleFetchPhotos.fulfilled, (state, action: PayloadAction<PhotoType[]>) => {\r\n            state.photos = state.photos.concat(action.payload)\r\n        })\r\n        builder.addCase(handleFetchRelatedPhotos.fulfilled, (state, action: PayloadAction<PhotoType[]>) => {\r\n            state.photos = action.payload\r\n        })\r\n    }\r\n})\r\n\r\nexport const {setPhotoPage, clearPhotos} = photoSlice.actions\r\nexport default photoSlice.reducer\r\n","import {createSlice, PayloadAction} from \"@reduxjs/toolkit\";\r\nimport {PhotoType} from \"../../types/photo\";\r\n\r\ninterface FavoriteTypes {\r\n    photos: PhotoType[]\r\n    deletedId: string | null\r\n    checkedId: string | null\r\n}\r\n\r\nconst initialState: FavoriteTypes = {\r\n    photos: [],\r\n    deletedId: null,\r\n    checkedId: null,\r\n}\r\n\r\nconst favoriteSlice = createSlice({\r\n    name: 'favorite',\r\n    initialState,\r\n    reducers: {\r\n        setIsDelete(state, action: PayloadAction<string>) {\r\n            state.deletedId = action.payload\r\n        },\r\n        setIsChecked(state, action: PayloadAction<string>) {\r\n            state.deletedId = action.payload\r\n        },\r\n        setFavoritesPhoto(state, action: PayloadAction<PhotoType[]>) {\r\n            state.photos = action.payload\r\n        }\r\n    },\r\n})\r\n\r\nexport const {setIsDelete, setIsChecked, setFavoritesPhoto} = favoriteSlice.actions\r\nexport default favoriteSlice.reducer","import * as PhotoCollectionActionCreators from './photoCollection/actions'\r\nimport * as PhotoDetailActionCreators from './photoDetail/actions'\r\nimport {setPhotoPage, clearPhotos} from \"./photoCollection/slice\";\r\nimport {setIsDelete, setIsChecked, setFavoritesPhoto} from './favorites/slice'\r\n\r\nexport default {\r\n    ...PhotoCollectionActionCreators,\r\n    ...PhotoDetailActionCreators,\r\n    setPhotoPage,\r\n    clearPhotos,\r\n    setIsDelete,\r\n    setIsChecked,\r\n    setFavoritesPhoto\r\n}","import {useDispatch} from \"react-redux\";\r\nimport {bindActionCreators} from \"redux\";\r\nimport ActionCreators from \"../store/actionsImport\"\r\n\r\nexport const useActions = () => {\r\n    const dispatch = useDispatch()\r\n    return bindActionCreators(ActionCreators, dispatch)\r\n}","import React from 'react';\r\nimport './Preloader.scss'\r\n\r\nexport const Preloader = () => {\r\n\r\n    return (\r\n        <div className={\"spinner\"}>\r\n            {Array.from({length: 12}).map((i, index) => <div key={`${i}/${index}`}/>)}\r\n        </div>\r\n    );\r\n};","export default __webpack_public_path__ + \"static/media/maximize-icon.b83ef4c1.svg\";","import React, {FC, ReactChild, ReactNode} from 'react';\r\nimport css from \"./DownloadLink.module.scss\"\r\nimport classNames from \"classnames\";\r\n\r\ninterface DownloadLinkType {\r\n    children?: ReactChild | ReactNode\r\n    downloadSrc: string\r\n    type: 'inCard' | 'inner-page'\r\n    className?: string\r\n}\r\n\r\nexport const DownloadLink: FC<DownloadLinkType> = ({children, downloadSrc, type, className}) => {\r\n    return (\r\n        <a\r\n            className={classNames(css['download-link'], css[type])}\r\n            href={downloadSrc}\r\n            download\r\n            target=\"_blank\"\r\n            rel='noreferrer'\r\n        >\r\n            <svg viewBox=\"0 0 20 26\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n                      d=\"M14.25 9.45837H16.5025C17.7633 9.45837 18.3867 10.9884 17.4942 11.8809L10.9917 18.3834C10.4392 18.9359 9.54668 18.9359 8.99418 18.3834L2.49168 11.8809C1.59918 10.9884 2.23668 9.45837 3.49751 9.45837H5.75001V2.37504C5.75001 1.59587 6.38751 0.958374 7.16668 0.958374H12.8333C13.6125 0.958374 14.25 1.59587 14.25 2.37504V9.45837ZM1.50001 25.0417C0.720844 25.0417 0.0833435 24.4042 0.0833435 23.6251C0.0833435 22.8459 0.720844 22.2084 1.50001 22.2084H18.5C19.2792 22.2084 19.9167 22.8459 19.9167 23.6251C19.9167 24.4042 19.2792 25.0417 18.5 25.0417H1.50001Z\"\r\n                      fill=\"white\"/>\r\n            </svg>\r\n\r\n            {children}\r\n        </a>\r\n    );\r\n};","import React, {FC} from 'react';\r\nimport css from \"./Button.module.scss\";\r\nimport classNames from \"classnames\";\r\n\r\ninterface ButtonType {\r\n    type: 'inCard' | 'inner-page'\r\n    className?: string\r\n    onClick: () => void\r\n}\r\n\r\nexport const Button: FC<ButtonType> = ({type, className, onClick}) => {\r\n    return (\r\n        <button\r\n            onClick={onClick}\r\n            className={classNames(css['in-favorite'], className, css[type])}\r\n        >\r\n            <svg viewBox=\"0 0 23 21\" fill=\"none\"\r\n                 xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path\r\n                    d=\"M13.0516 20.2443C12.1779 21.0597 10.8329 21.0597 9.95928 20.2325L9.83283 20.1143C3.79765 14.501 -0.145337 10.8257 0.00410514 6.24047C0.0730786 4.23147 1.07319 2.30521 2.69407 1.17072C5.7289 -0.956453 9.47646 0.0362259 11.4997 2.47065C13.5229 0.0362259 17.2705 -0.96827 20.3053 1.17072C21.9262 2.30521 22.9263 4.23147 22.9953 6.24047C23.1562 10.8257 19.2017 14.501 13.1665 20.138L13.0516 20.2443Z\"\r\n                />\r\n            </svg>\r\n        </button>\r\n    );\r\n};","export const setStorage = (key: string, value: any) => {\r\n    localStorage.setItem(key, JSON.stringify(value))\r\n}\r\n\r\nexport const getStorage = (key: string) => {\r\n    return JSON.parse(localStorage.getItem(key) as string)\r\n}","import {PhotoType} from \"../../types/photo\";\r\nimport {getStorage, setStorage} from \"../storage/storage\";\r\n\r\nexport const handleAddInArr = (\r\n    data: PhotoType,\r\n    setIsDelete: (arg0: string) => void\r\n) => {\r\n    const localeStorageItem = getStorage('favorites')\r\n    let favoritesArr = localeStorageItem ? localeStorageItem : []\r\n\r\n    const index = favoritesArr.findIndex((item: PhotoType) => item.id === data.id)\r\n\r\n    if (index !== -1) {\r\n        favoritesArr.splice(index, 1)\r\n        setStorage('favorites', favoritesArr)\r\n        setIsDelete(data.id)\r\n    } else {\r\n        favoritesArr.push(data)\r\n        setStorage('favorites', favoritesArr)\r\n    }\r\n}","import React from 'react';\r\nimport css from \"./PhotoItem.module.scss\";\r\nimport {Link} from \"react-router-dom\";\r\nimport maximizeIcon from \"../../static/images/maximize-icon.svg\";\r\nimport {PhotoType} from \"../../types/photo\";\r\nimport {DownloadLink} from \"../UI/DownloadLink/DownloadLink\";\r\nimport {Button} from \"../UI/Button/Button\";\r\nimport {useActions} from \"../../hooks/useActions\";\r\nimport {handleAddInArr} from \"../../utils/addInArr/handleAddInArr\";\r\nimport {useTypedSelector} from \"../../hooks/useTypedSelector\";\r\nimport {getIsDelete} from \"../../store/favorites/selectors\";\r\n\r\nexport const PhotoItem = ({id, user, links, urls, alt_description}: PhotoType) => {\r\n    const {setIsDelete} = useActions()\r\n\r\n    const {name, profile_image} = user\r\n    const {small} = urls\r\n    const {download} = links\r\n\r\n    return (\r\n        <div className={css['card']}>\r\n            <div className={css['card__info']}>\r\n                <div className={css['card__overlay']}/>\r\n                <div className={css['owner']}>\r\n                    <img\r\n                        className={css['owner__img']}\r\n                        src={profile_image.large}\r\n                        alt={name}\r\n                    />\r\n                    <div className={css['owner__name']}>\r\n                        {name}\r\n                    </div>\r\n                </div>\r\n                <div className={css['actions']}>\r\n                    <Button\r\n                        onClick={() => handleAddInArr(\r\n                            {id, user, links, urls, alt_description},\r\n                            setIsDelete\r\n                        )}\r\n                        type={'inCard'}\r\n                    />\r\n\r\n                    <Link to={`/photo/${id}`} className={css['actions__item']}>\r\n                        <img src={maximizeIcon} alt=\"maximize\"/>\r\n                    </Link>\r\n\r\n                    <DownloadLink downloadSrc={download} type={\"inCard\"}/>\r\n                </div>\r\n            </div>\r\n            <img data-id={id} src={small} alt={alt_description}/>\r\n        </div>\r\n    );\r\n};","import React, {FC} from 'react';\r\nimport css from './PhotoGrid.module.scss'\r\nimport Masonry from \"react-masonry-css\";\r\nimport {PhotoGridProps} from \"../../types/photo\";\r\nimport {PhotoItem} from \"../PhotoItem/PhotoItem\";\r\n\r\nconst breakpointColumns = {\r\n    default: 3,\r\n    1024: 2,\r\n    576: 1\r\n};\r\n\r\nexport const PhotoGrid: FC<PhotoGridProps> = ({photos, children}) => {\r\n    return (\r\n        <div className={css['grid-container']}>\r\n            {children}\r\n\r\n            <Masonry\r\n                breakpointCols={breakpointColumns}\r\n                className={css['grid']}\r\n                columnClassName={css['column']}\r\n            >\r\n                {photos\r\n                    ? photos.map((items, index) =>\r\n                        <PhotoItem key={`${items.id}${index}`} {...items}/>\r\n                    )\r\n                : '' }\r\n            </Masonry>\r\n        </div>\r\n    );\r\n};","import React, {FC} from 'react';\r\nimport css from './PhotoDetail.module.scss'\r\nimport {PhotoType} from \"../../types/photo\";\r\nimport {Button} from \"../UI/Button/Button\";\r\nimport {DownloadLink} from \"../UI/DownloadLink/DownloadLink\";\r\nimport {handleAddInArr} from \"../../utils/addInArr/handleAddInArr\";\r\nimport {useActions} from \"../../hooks/useActions\";\r\n\r\nexport const PhotoDetail: FC<PhotoType> = (\r\n    {\r\n        id,\r\n        user,\r\n        urls,\r\n        alt_description,\r\n        links\r\n    }\r\n) => {\r\n    const {setIsDelete} = useActions()\r\n\r\n    const {profile_image, name} = user\r\n    const {regular, small} = urls\r\n    const {download} = links\r\n\r\n    return (\r\n        <div className={css.head}>\r\n            <div className={css.background} style={{backgroundImage: `url(${regular})`}}>\r\n                <div className={css.blur}/>\r\n            </div>\r\n            <div className=\"container\">\r\n                <div className={css.head__top}>\r\n                    <div className={css.user}>\r\n                        <img className={css.user__avatar} src={profile_image.large} alt=\"\"/>\r\n                        <div className={css.user__name}>{name}</div>\r\n                    </div>\r\n                    <div className={css.buttons}>\r\n                        <Button\r\n                            onClick={() => handleAddInArr(\r\n                                {id, user, links, urls, alt_description},\r\n                                setIsDelete,\r\n                            )}\r\n                            type={'inner-page'}\r\n                        />\r\n\r\n                        <DownloadLink downloadSrc={download} type={\"inner-page\"}>\r\n                            Скачать\r\n                        </DownloadLink>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={css['img-container']}>\r\n                    <img src={regular} alt={alt_description}/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};","import {RootState} from \"../rootReducer\";\r\n\r\nexport const getPhotoCollection = (state: RootState) => state.photoCollection","import {RootState} from \"../rootReducer\";\r\n\r\nexport const getPhoto = (state: RootState) => state.photo","import React, {FC, useEffect} from 'react';\r\nimport {useParams} from 'react-router-dom'\r\nimport {useTypedSelector} from \"../hooks/useTypedSelector\";\r\nimport {useActions} from \"../hooks/useActions\";\r\nimport {PhotoParamsType} from \"../types/photo\";\r\nimport {Preloader} from \"../components/UI/Preloader/Preloader\";\r\nimport {PhotoGrid} from \"../components/PhotoGrid/PhotoGrid\";\r\nimport {PhotoDetail} from \"../components/PhotoDetail/PhotoDetail\";\r\nimport {onScrollToTop} from \"../utils/scroll/ScrollToTop\";\r\nimport {getPhotoCollection} from \"../store/photoCollection/selectors\";\r\nimport {getPhoto} from \"../store/photoDetail/selectors\";\r\n\r\n\r\nexport const Photo: FC = () => {\r\n    const {photo, loading} = useTypedSelector(getPhoto)\r\n    const {photos} = useTypedSelector(getPhotoCollection)\r\n    const {handleFetchPhotoById, handleFetchRelatedPhotos} = useActions()\r\n    const params = useParams<PhotoParamsType>()\r\n\r\n    useEffect(() => {\r\n        handleFetchPhotoById(params)\r\n        handleFetchRelatedPhotos(params)\r\n        onScrollToTop()\r\n    }, [params.id])\r\n\r\n    if (loading) {\r\n        return (\r\n            <Preloader/>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {photo && <PhotoDetail {...photo}/>}\r\n\r\n            <div className=\"container\">\r\n                <PhotoGrid photos={photos}>\r\n                    <h3>Похожие фотографии</h3>\r\n                </PhotoGrid>\r\n            </div>\r\n        </>\r\n    )\r\n\r\n};","export const onScrollToTop = () => {\r\n    window.scrollTo({top: 0})\r\n}","import React, {FC, useEffect} from 'react';\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\nimport {useTypedSelector} from \"../hooks/useTypedSelector\";\r\nimport {useActions} from \"../hooks/useActions\";\r\nimport {PhotoGrid} from \"../components/PhotoGrid/PhotoGrid\";\r\nimport {getPhotoCollection} from \"../store/photoCollection/selectors\";\r\n\r\nexport const Home: FC = () => {\r\n    const {photos, loading, page, limit} = useTypedSelector(getPhotoCollection)\r\n    const {handleFetchPhotos, setPhotoPage, clearPhotos} = useActions()\r\n\r\n    useEffect(() => {\r\n        clearPhotos()\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        handleFetchPhotos({page, limit})\r\n    }, [page, limit])\r\n\r\n    const handleSetPhotoPage = () => {\r\n        const nextPage = page + 1\r\n        setPhotoPage(nextPage)\r\n    }\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <InfiniteScroll\r\n                next={handleSetPhotoPage}\r\n                hasMore={true} loader={''}\r\n                dataLength={photos.length}\r\n                scrollThreshold={.7}\r\n            >\r\n                <PhotoGrid photos={photos}/>\r\n            </InfiniteScroll>\r\n        </div>\r\n    );\r\n};","import {RootState} from \"../rootReducer\";\r\n\r\nexport const getIsDelete = (state: RootState) => state.favorite","import React, {useEffect} from 'react';\r\nimport {PhotoGrid} from \"../components/PhotoGrid/PhotoGrid\";\r\nimport {getStorage} from \"../utils/storage/storage\";\r\nimport {useTypedSelector} from \"../hooks/useTypedSelector\";\r\nimport {getIsDelete} from \"../store/favorites/selectors\";\r\nimport {useActions} from \"../hooks/useActions\";\r\n\r\nconst Favorites = () => {\r\n    const {photos, deletedId} = useTypedSelector(getIsDelete)\r\n    const {setFavoritesPhoto} = useActions()\r\n\r\n    useEffect(() => {\r\n        setFavoritesPhoto(getStorage('favorites'))\r\n    }, [deletedId])\r\n\r\n    return (\r\n        <div className={'container'}>\r\n            <PhotoGrid photos={photos}/>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Favorites;","import React, {FC} from 'react';\nimport {Route, Switch} from 'react-router-dom'\nimport {Header} from \"../Header/Header\";\nimport {Photo} from \"../../pages/Photo\";\nimport {Home} from \"../../pages/Home\";\nimport Favorites from \"../../pages/Favorites\";\n\nconst App: FC = () => {\n\n    return (\n        <>\n            <Header/>\n            <Route exact path=\"/\">\n                <Home />\n            </Route>\n            <Route path=\"/photo/:id\">\n                <Photo />\n            </Route>\n            <Route path=\"/favorites\">\n                <Favorites />\n            </Route>\n        </>\n    );\n}\n\nexport default App;","import {PhotoType} from \"../../types/photo\";\r\nimport {createSlice, PayloadAction} from \"@reduxjs/toolkit\";\r\nimport {handleFetchPhotoById} from \"./actions\";\r\n\r\ninterface PhotoStateType {\r\n    photo: PhotoType | null\r\n    loading: boolean\r\n}\r\n\r\nconst initialState: PhotoStateType = {\r\n    photo: null,\r\n    loading: false,\r\n}\r\n\r\nconst photoSlice = createSlice({\r\n    name: 'photo',\r\n    initialState,\r\n    reducers: {},\r\n    extraReducers: builder => {\r\n        builder.addCase(handleFetchPhotoById.pending, (state) => {\r\n            state.loading = true\r\n        })\r\n        builder.addCase(handleFetchPhotoById.fulfilled, (state, action: PayloadAction<PhotoType>) => {\r\n            state.photo = action.payload\r\n            state.loading = false\r\n        })\r\n    }\r\n})\r\n\r\nexport const {} = photoSlice.actions\r\nexport default photoSlice.reducer\r\n","import {combineReducers} from \"@reduxjs/toolkit\";\r\nimport photoCollection from \"./photoCollection/slice\";\r\nimport photo from \"./photoDetail/slice\";\r\nimport favorite from \"./favorites/slice\";\r\n\r\nexport const rootReducer = combineReducers({\r\n    photoCollection,\r\n    photo,\r\n    favorite\r\n})\r\n\r\nexport type RootState = ReturnType<typeof rootReducer>","import {rootReducer} from \"./rootReducer\";\r\nimport {configureStore} from \"@reduxjs/toolkit\";\r\n\r\nexport const store = configureStore({\r\n    reducer: rootReducer\r\n})","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\nimport './style/index.scss'\nimport {Provider} from \"react-redux\";\nimport {store} from \"./store\";\nimport {BrowserRouter} from \"react-router-dom\";\n\nReactDOM.render(\n    <BrowserRouter>\n        <Provider store={store}>\n            <App/>\n        </Provider>\n    </BrowserRouter>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}