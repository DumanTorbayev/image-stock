(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{15:function(e,t,n){e.exports={card:"PhotoItem_card__2YSQq",card__info:"PhotoItem_card__info__3BGrN",card__overlay:"PhotoItem_card__overlay__vY5Cl",owner:"PhotoItem_owner__2ATfz",owner__img:"PhotoItem_owner__img__20Jwo",owner__name:"PhotoItem_owner__name__Rewwx",actions:"PhotoItem_actions__2VUvG",actions__item:"PhotoItem_actions__item__1k5KC"}},16:function(e,t,n){e.exports={head:"PhotoDetail_head__3UPvz",head__top:"PhotoDetail_head__top__2jeNP",background:"PhotoDetail_background__1DQLg",user:"PhotoDetail_user__2RjaB",user__avatar:"PhotoDetail_user__avatar__DNY_5",user__name:"PhotoDetail_user__name__31Yyl",buttons:"PhotoDetail_buttons__3bi_a","img-container":"PhotoDetail_img-container__1fACQ"}},20:function(e,t,n){e.exports={header:"Header_header__26D_V",header__top:"Header_header__top__M4u2y",logo:"Header_logo__2X7Sr",favorites:"Header_favorites__2NT_q"}},24:function(e,t,n){e.exports={"grid-container":"PhotoGrid_grid-container__1FlHB",grid:"PhotoGrid_grid__1cICr",column:"PhotoGrid_column__2ZqEo"}},29:function(e,t,n){e.exports={"download-link":"DownloadLink_download-link__3As0-","inner-page":"DownloadLink_inner-page__3owtT",inCard:"DownloadLink_inCard__wSbAX"}},30:function(e,t,n){e.exports={"in-favorite":"Button_in-favorite__3t2F8","inner-page":"Button_inner-page__2zB8O",inCard:"Button_inCard__31FP5"}},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"fetchPhotoById",(function(){return F})),n.d(a,"fetchRelatedPhoto",(function(){return I})),n.d(a,"fetchPhotos",(function(){return B})),n.d(a,"fetchFavorites",(function(){return D})),n.d(a,"likePhoto",(function(){return R})),n.d(a,"unlikePhoto",(function(){return L}));var o={};n.r(o),n.d(o,"handleFetchPhotos",(function(){return E})),n.d(o,"handleFetchRelatedPhotos",(function(){return A}));var r={};n.r(r),n.d(r,"handleFetchPhotoById",(function(){return M}));var c={};n.r(c),n.d(c,"handleLikePhoto",(function(){return J})),n.d(c,"handleUnlikePhoto",(function(){return X}));var s={};n.r(s),n.d(s,"handleFetchFavorites",(function(){return W}));var i=n(0),l=n(21),d=n.n(l),u=n(3),h=n(20),j=n.n(h),p=n(13),_=n.p+"static/media/logo.a2ae2b09.svg",f=n.p+"static/media/heart-icon.b07158dd.svg",b=n(1),m=function(){return Object(b.jsx)("header",{className:j.a.header,children:Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{className:j.a.header__top,children:[Object(b.jsxs)(p.b,{to:"/",className:j.a.logo,children:[Object(b.jsx)("img",{src:_,alt:""}),"ImageStock"]}),Object(b.jsxs)(p.b,{to:"/favorites",className:j.a.favorites,children:[Object(b.jsx)("img",{src:f,alt:""}),"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"]})]})})})},v=n(12),x=n(18),O=x.c,g=n(11),P=n(5),w=n.n(P),k=n(14),C=n(4),N=n(39),y=n.n(N).a.create({baseURL:"".concat("https://api.unsplash.com"),headers:{Authorization:"Client-ID ".concat("aSYhBi-PmFalxBwhNsyx6xPVN6zQfPblmDEaPxuG8vk")}}),F=function(e){return y.get("/photos/".concat(e.id))},I=function(e){return y.get("/photos/".concat(e.id,"/related"))},B=function(e,t){return y.get("/photos",{params:{page:e,per_page:t}})},D=function(e){return y.get("/users/".concat(e,"/likes"))},R=function(e){return y.post("/photos/".concat(e,"/like"))},L=function(e){return y.delete("/photos/".concat(e,"/like"))},S=Object(v.a)({},a),H=S.fetchPhotos,z=S.fetchRelatedPhoto,E=Object(C.b)("photos/fetchPhotos",function(){var e=Object(k.a)(w.a.mark((function e(t){var n,a,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.page,a=t.limit,e.prev=1,e.next=4,H(n,a);case 4:return o=e.sent,e.abrupt("return",o.data);case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()),A=Object(C.b)("photos/fetchRelatedPhotos",function(){var e=Object(k.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z(t);case 3:return n=e.sent,e.abrupt("return",n.data.results);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),G=S.fetchPhotoById,M=Object(C.b)("photo/fetchPhotoById",function(){var e=Object(k.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G(t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),T=Object(C.c)({name:"photoCollection",initialState:{photos:[],loading:!1,error:null,page:1,limit:15},reducers:{setPhotoPage:function(e,t){e.page=t.payload},clearPhotos:function(e){e.photos.splice(0,e.photos.length)}},extraReducers:function(e){e.addCase(E.fulfilled,(function(e,t){e.photos=e.photos.concat(t.payload)})),e.addCase(A.fulfilled,(function(e,t){e.photos=t.payload}))}}),V=T.actions,Y=V.setPhotoPage,Q=V.clearPhotos,U=T.reducer,Z=S.likePhoto,q=S.unlikePhoto,J=Object(C.b)("photo/likePhoto",function(){var e=Object(k.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z(t);case 3:return n=e.sent,console.log(n.data),e.abrupt("return",n.data);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()),X=Object(C.b)("photo/unlikePhoto",function(){var e=Object(k.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q(t);case 3:return n=e.sent,console.log(n.data),e.abrupt("return",n.data);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()),K=S.fetchFavorites,W=Object(C.b)("photos/fetchFavorites",function(){var e=Object(k.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K(t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),$=Object(v.a)(Object(v.a)(Object(v.a)(Object(v.a)({},o),r),{},{setPhotoPage:Y,clearPhotos:Q},c),s),ee=function(){var e=Object(x.b)();return Object(g.b)($,e)},te=(n(72),function(){return Object(b.jsx)("div",{className:"spinner",children:Array.from({length:12}).map((function(e){return Object(b.jsx)("div",{})}))})}),ne=n(24),ae=n.n(ne),oe=n(42),re=n(15),ce=n.n(re),se=n.p+"static/media/maximize-icon.b83ef4c1.svg",ie=n(29),le=n.n(ie),de=n(23),ue=n.n(de),he=function(e){var t=e.children,n=e.downloadSrc,a=e.type;e.className;return Object(b.jsxs)("a",{className:ue()(le.a["download-link"],le.a[a]),href:n,download:!0,target:"_blank",rel:"noreferrer",children:[Object(b.jsx)("svg",{viewBox:"0 0 20 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(b.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.25 9.45837H16.5025C17.7633 9.45837 18.3867 10.9884 17.4942 11.8809L10.9917 18.3834C10.4392 18.9359 9.54668 18.9359 8.99418 18.3834L2.49168 11.8809C1.59918 10.9884 2.23668 9.45837 3.49751 9.45837H5.75001V2.37504C5.75001 1.59587 6.38751 0.958374 7.16668 0.958374H12.8333C13.6125 0.958374 14.25 1.59587 14.25 2.37504V9.45837ZM1.50001 25.0417C0.720844 25.0417 0.0833435 24.4042 0.0833435 23.6251C0.0833435 22.8459 0.720844 22.2084 1.50001 22.2084H18.5C19.2792 22.2084 19.9167 22.8459 19.9167 23.6251C19.9167 24.4042 19.2792 25.0417 18.5 25.0417H1.50001Z",fill:"white"})}),t]})},je=n(30),pe=n.n(je),_e=function(e){var t=e.type,n=e.className,a=e.onClick;return Object(b.jsx)("button",{onClick:a,className:ue()(pe.a["in-favorite"],n,pe.a[t]),children:Object(b.jsx)("svg",{viewBox:"0 0 23 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(b.jsx)("path",{d:"M13.0516 20.2443C12.1779 21.0597 10.8329 21.0597 9.95928 20.2325L9.83283 20.1143C3.79765 14.501 -0.145337 10.8257 0.00410514 6.24047C0.0730786 4.23147 1.07319 2.30521 2.69407 1.17072C5.7289 -0.956453 9.47646 0.0362259 11.4997 2.47065C13.5229 0.0362259 17.2705 -0.96827 20.3053 1.17072C21.9262 2.30521 22.9263 4.23147 22.9953 6.24047C23.1562 10.8257 19.2017 14.501 13.1665 20.138L13.0516 20.2443Z"})})})},fe=function(e){var t=e.id,n=e.user,a=e.links,o=e.urls,r=e.alt_description,c=n.name,s=n.profile_image,i=o.small,l=a.download;return Object(b.jsxs)("div",{className:ce.a.card,children:[Object(b.jsxs)("div",{className:ce.a.card__info,children:[Object(b.jsx)("div",{className:ce.a.card__overlay}),Object(b.jsxs)("div",{className:ce.a.owner,children:[Object(b.jsx)("img",{className:ce.a.owner__img,src:s.large,alt:c}),Object(b.jsx)("div",{className:ce.a.owner__name,children:c})]}),Object(b.jsxs)("div",{className:ce.a.actions,children:[Object(b.jsx)(_e,{onClick:function(){return console.log(t)},type:"inCard",className:ce.a.actions__item}),Object(b.jsx)(p.b,{to:"/photo/".concat(t),className:ce.a.actions__item,children:Object(b.jsx)("img",{src:se,alt:"maximize"})}),Object(b.jsx)(he,{downloadSrc:l,type:"inCard"})]})]}),Object(b.jsx)("img",{"data-id":t,src:i,alt:r})]})},be={default:3,1024:2,576:1},me=function(e){var t=e.photos,n=e.children;return Object(b.jsxs)("div",{className:ae.a["grid-container"],children:[n,Object(b.jsx)(oe.a,{breakpointCols:be,className:ae.a.grid,columnClassName:ae.a.column,children:t.map((function(e,t){return Object(b.jsx)(fe,Object(v.a)({},e),"".concat(e.id).concat(t))}))})]})},ve=n(16),xe=n.n(ve),Oe=function(e){var t=e.id,n=e.user,a=e.urls,o=e.alt_description,r=e.links,c=ee().handleLikePhoto,s=n.profile_image,i=n.name,l=a.regular,d=(a.small,r.download);return Object(b.jsxs)("div",{className:xe.a.head,children:[Object(b.jsx)("div",{className:xe.a.background,style:{backgroundImage:"url(".concat(l,")")}}),Object(b.jsxs)("div",{className:"container",children:[Object(b.jsxs)("div",{className:xe.a.head__top,children:[Object(b.jsxs)("div",{className:xe.a.user,children:[Object(b.jsx)("img",{className:xe.a.user__avatar,src:s.large,alt:""}),Object(b.jsx)("div",{className:xe.a.user__name,children:i})]}),Object(b.jsxs)("div",{className:xe.a.buttons,children:[Object(b.jsx)(_e,{onClick:function(){return function(e){c(e)}(t)},type:"inner-page"}),Object(b.jsx)(he,{downloadSrc:d,type:"inner-page",children:"\u0421\u043a\u0430\u0447\u0430\u0442\u044c"})]})]}),Object(b.jsx)("div",{className:xe.a["img-container"],children:Object(b.jsx)("img",{src:l,alt:o})})]})]})},ge=function(e){return e.photoCollection},Pe=function(e){return e.photo},we=function(){var e=O(Pe),t=e.photo,n=e.loading,a=O(ge).photos,o=ee(),r=o.handleFetchPhotoById,c=o.handleFetchRelatedPhotos,s=Object(u.g)();return Object(i.useEffect)((function(){r(s),c(s),window.scrollTo({top:0})}),[s.id]),n?Object(b.jsx)(te,{}):Object(b.jsxs)(b.Fragment,{children:[t&&Object(b.jsx)(Oe,Object(v.a)({},t)),Object(b.jsx)("div",{className:"container",children:Object(b.jsx)(me,{photos:a,children:Object(b.jsx)("h3",{children:"\u041f\u043e\u0445\u043e\u0436\u0438\u0435 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438"})})})]})},ke=n(40),Ce=function(){var e=O(ge),t=e.photos,n=(e.error,e.loading,e.page),a=e.limit,o=ee(),r=o.handleFetchPhotos,c=o.setPhotoPage,s=o.clearPhotos,l=Object(u.f)();Object(i.useEffect)((function(){s()}),[l]),Object(i.useEffect)((function(){r({page:n,limit:a})}),[n,a]);return Object(b.jsx)("div",{className:"container",children:Object(b.jsx)(ke.a,{next:function(){c(n+1)},hasMore:!0,loader:"",dataLength:t.length,scrollThreshold:.7,children:Object(b.jsx)(me,{photos:t})})})},Ne=function(e){return e.favorite},ye=function(){var e=O(Ne),t=e.photos,n=(e.loading,ee().handleFetchFavorites);return Object(i.useEffect)((function(){n("dumantorbayev")}),[]),Object(b.jsx)("div",{className:"container",children:Object(b.jsx)(me,{photos:t})})},Fe=function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(m,{}),Object(b.jsxs)(u.c,{children:[Object(b.jsx)(u.a,{path:"/",exact:!0,children:Object(b.jsx)(Ce,{})}),Object(b.jsx)(u.a,{path:"/photo/:id",children:Object(b.jsx)(we,{})}),Object(b.jsx)(u.a,{path:"/favorites",exact:!0,children:Object(b.jsx)(ye,{})})]})]})},Ie=(n(73),n(41)),Be=Object(C.c)({name:"photo",initialState:{photo:null,loading:!1},reducers:{},extraReducers:function(e){e.addCase(M.pending,(function(e){e.loading=!0})),e.addCase(M.fulfilled,(function(e,t){e.photo=t.payload,e.loading=!1}))}});Object(Ie.a)(Be.actions);var De=Be.reducer,Re=Object(C.c)({name:"favorite",initialState:{photos:[],loading:!1},reducers:{},extraReducers:function(e){e.addCase(W.pending,(function(e){e.loading=!0})),e.addCase(W.fulfilled,(function(e,t){e.loading=!1,e.photos=t.payload}))}}).reducer,Le=Object(g.c)({photoCollection:U,photo:De,favorite:Re}),Se=Object(C.a)({reducer:Le});d.a.render(Object(b.jsx)(p.a,{basename:"/image-stock",children:Object(b.jsx)(x.a,{store:Se,children:Object(b.jsx)(Fe,{})})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.7b9abd44.chunk.js.map