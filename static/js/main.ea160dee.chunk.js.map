{"version":3,"sources":["components/PhotoDetail/PhotoDetail.module.scss","components/PhotoItem/PhotoItem.module.scss","components/Header/Header.module.scss","components/UI/DownloadLink/DownloadLink.module.scss","components/UI/Button/Button.module.scss","components/PhotoGrid/PhotoGrid.module.scss","components/UI/Preloader/Preloader.module.scss","components/UI/ResponsiveImage/ResponsiveImage.module.scss","components/UI/PhotoNotFound/PhotoNotFound.module.scss","hooks/useWindowSize.ts","constants/index.ts","components/Header/Header.tsx","hooks/useDebounce.ts","hooks/useTypedSelector.ts","api/api.ts","store/photos/slice.ts","store/photoDetail/slice.ts","utils/storage/storage.ts","store/favorites/slice.ts","store/index.ts","hooks/useActions.ts","components/UI/Preloader/Preloader.tsx","components/UI/DownloadLink/DownloadLink.tsx","components/UI/Button/Button.tsx","components/UI/ResponsiveImage/ResponsiveImage.tsx","store/favorites/selectors.ts","components/PhotoItem/PhotoItem.tsx","components/UI/PhotoNotFound/PhotoNotFound.tsx","components/PhotoGrid/PhotoGrid.tsx","components/UI/index.ts","components/PhotoDetail/PhotoDetail.tsx","utils/index.ts","utils/scroll/scrollToTop.ts","store/photoDetail/selectors.ts","pages/Photo.tsx","store/photos/selectors.ts","pages/Home.tsx","pages/Favorites.tsx","pages/Search.tsx","App.tsx","store/rootReducer.ts","store/store.ts","index.tsx"],"names":["module","exports","useWindowSize","useState","w","h","windowSize","setWindowSize","useEffect","handler","window","innerWidth","innerHeight","addEventListener","removeEventListener","FAVORITES","BREAKPOINTS","Header","showSearchBar","setShowSearchBar","value","setValue","debouncedValue","delay","setDebouncedValue","timer","setTimeout","clearTimeout","useDebounce","history","useHistory","location","useLocation","pathname","push","search","className","css","header","header__top","to","logo","src","process","alt","onClick","favorites","searchbar","type","placeholder","onChange","e","target","useTypedSelector","useSelector","api","axios","create","baseURL","headers","fetchPhotos","page","limit","get","params","per_page","fetchPhotoById","id","fetchRelatedPhoto","fetchSearchedPhoto","query","getPhotos","createAsyncThunk","a","response","data","console","log","getSearchedPhotos","results","photos","createSlice","name","initialState","loading","error","reducers","setPhotoPage","state","action","payload","clearPhotos","splice","length","setIsLoading","extraReducers","builder","addCase","fulfilled","concat","filter","n","i","find","m","actions","getFetchPhotoById","getRelatedPhotos","photoDetail","photo","pending","setStorage","key","localStorage","setItem","JSON","stringify","getStorage","parse","getItem","checkedPhotoId","removedPhotoId","setFavoritesPhoto","setFavoritesId","setInFavorites","localeStorageItem","arrOfObj","index","findIndex","item","useActions","dispatch","useDispatch","bindActionCreators","ActionCreators","Preloader","container","spinner","Array","from","map","DownloadLink","children","downloadSrc","detailPage","photoCard","classNames","href","download","rel","Button","classNamesVar","ResponsiveImage","width","height","dataId","style","maxWidth","paddingBottom","data-id","getFavorite","PhotoItem","user","links","urls","alt_description","profile_image","regular","large","includes","viewBox","fill","xmlns","d","fillRule","clipRule","PhotoNotFound","PhotoGrid","breakpointCols","default","columnClassName","items","PhotoDetail","UiComponents","head","background","backgroundImage","blur","head__top","user__avatar","user__name","buttons","scrollTo","top","getPhoto","Photo","useParams","scrollToTop","utils","getPhotoCollection","Home","next","hasMore","loader","dataLength","scrollThreshold","Favorites","Search","replace","App","exact","path","rootReducer","combineReducers","store","configureStore","reducer","ReactDOM","render","basename","document","getElementById"],"mappings":"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","file":"static/js/main.ea160dee.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"head\":\"PhotoDetail_head__3UPvz\",\"head__top\":\"PhotoDetail_head__top__2jeNP\",\"background\":\"PhotoDetail_background__1DQLg\",\"blur\":\"PhotoDetail_blur__2Zryt\",\"user\":\"PhotoDetail_user__2RjaB\",\"user__avatar\":\"PhotoDetail_user__avatar__DNY_5\",\"user__name\":\"PhotoDetail_user__name__31Yyl\",\"buttons\":\"PhotoDetail_buttons__3bi_a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"PhotoItem_card__2EsHO\",\"card__info\":\"PhotoItem_card__info__3z4yA\",\"card__overlay\":\"PhotoItem_card__overlay__1V2ys\",\"owner\":\"PhotoItem_owner__1Jc9N\",\"owner__img\":\"PhotoItem_owner__img__3Xx-h\",\"owner__name\":\"PhotoItem_owner__name__2KYpW\",\"actions\":\"PhotoItem_actions__IByIU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__26D_V\",\"header__top\":\"Header_header__top__M4u2y\",\"logo\":\"Header_logo__2X7Sr\",\"search\":\"Header_search__1JnoN\",\"favorites\":\"Header_favorites__2NT_q\",\"searchbar\":\"Header_searchbar__rpy4o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"download-link\":\"DownloadLink_download-link__3As0-\",\"detail-page\":\"DownloadLink_detail-page__3jOxk\",\"photo-card\":\"DownloadLink_photo-card__1_PvB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"in-favorite\":\"Button_in-favorite__3t2F8\",\"detail-page\":\"Button_detail-page__3PCZy\",\"photo-card\":\"Button_photo-card__3dhtV\",\"checked\":\"Button_checked__Nj3MW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"grid-container\":\"PhotoGrid_grid-container__1FlHB\",\"grid\":\"PhotoGrid_grid__1cICr\",\"column\":\"PhotoGrid_column__2ZqEo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Preloader_container__1zOKV\",\"spinner\":\"Preloader_spinner__1B0bJ\",\"lsd-spinner\":\"Preloader_lsd-spinner__TbC1h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"img-container\":\"ResponsiveImage_img-container__FoybE\",\"hidden\":\"ResponsiveImage_hidden__kft34\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"PhotoNotFound_container__2I_CF\"};","import { useEffect, useState } from 'react'\r\n\r\ninterface WindowSize {\r\n    w: number\r\n    h: number\r\n}\r\n\r\nexport function useWindowSize(): WindowSize {\r\n    const [windowSize, setWindowSize] = useState<WindowSize>({\r\n        w: 0,\r\n        h: 0,\r\n    })\r\n\r\n    useEffect(() => {\r\n        const handler = () => {\r\n            setWindowSize({\r\n                w: window.innerWidth,\r\n                h: window.innerHeight,\r\n            })\r\n        }\r\n\r\n        // Set size at the first client-side load\r\n        handler()\r\n\r\n        window.addEventListener('resize', handler)\r\n\r\n        // Remove event listener on cleanup\r\n        return () => {\r\n            window.removeEventListener('resize', handler)\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n\r\n    return windowSize\r\n}","export const FAVORITES = 'favorites'\r\n\r\nexport const BREAKPOINTS = {\r\n    576: 576,\r\n    1024: 1024,\r\n}","import React, {ChangeEvent, FC, useEffect, useState} from 'react'\r\nimport css from './Header.module.scss'\r\nimport {Link, useLocation} from 'react-router-dom';\r\nimport {useWindowSize} from \"../../hooks/useWindowSize\";\r\nimport {BREAKPOINTS} from \"../../constants\";\r\nimport {useDebounce} from \"../../hooks/useDebounce\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {LocationType} from \"../../types/location\";\r\n\r\nexport const Header: FC = () => {\r\n    const [showSearchBar, setShowSearchBar] = useState<boolean>(false)\r\n    const [value, setValue] = useState<string>('')\r\n    const {w} = useWindowSize()\r\n    const debouncedValue = useDebounce<string>(value, 1000)\r\n    const history = useHistory()\r\n    const location = useLocation<LocationType>()\r\n\r\n    useEffect(() => {\r\n        if(location.pathname !== '/search') {\r\n            setShowSearchBar(false)\r\n        }\r\n    }, [location.pathname])\r\n\r\n    useEffect(() => {\r\n        if(value !== '') {\r\n            history.push({\r\n                pathname: '/search',\r\n                search: value\r\n            })\r\n        }\r\n    }, [debouncedValue])\r\n\r\n    const handleSearch = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setValue(e.target.value)\r\n    }\r\n\r\n    return (\r\n        <header className={css.header}>\r\n            <div className=\"container\">\r\n                <div className={css.header__top}>\r\n                    <Link to=\"/\" className={css.logo}>\r\n                        <img src={`${process.env.PUBLIC_URL}/img/logo.svg`} alt=\"logo\"/>\r\n                        {w > BREAKPOINTS[\"576\"] ? 'ImageStock' : ''}\r\n                    </Link>\r\n\r\n                    <div className={css.search} onClick={() => setShowSearchBar(!showSearchBar)}>\r\n                        <img src={`${process.env.PUBLIC_URL}/img/search-icon.svg`} alt=\"\"/>\r\n                        {w > BREAKPOINTS[\"576\"] ? 'Search' : ''}\r\n                    </div>\r\n\r\n                    <Link to=\"/favorites\" className={css.favorites}>\r\n                        <img src={`${process.env.PUBLIC_URL}/img/heart-icon.svg`} alt=\"Favorites photo\"/>\r\n                        {w > BREAKPOINTS[\"576\"] ? 'Favorites' : ''}\r\n                    </Link>\r\n                </div>\r\n\r\n                {\r\n                    showSearchBar &&\r\n                    <div className={css.searchbar}>\r\n                        <input type=\"text\" placeholder=\"Search\" onChange={handleSearch}/>\r\n                    </div>\r\n                }\r\n            </div>\r\n        </header>\r\n    )\r\n}","import { useEffect, useState } from 'react'\r\n\r\nexport function useDebounce<T>(value: T, delay?: number): T {\r\n    const [debouncedValue, setDebouncedValue] = useState<T>(value)\r\n\r\n    useEffect(() => {\r\n        const timer = setTimeout(() => setDebouncedValue(value), delay || 500)\r\n\r\n        return () => {\r\n            clearTimeout(timer)\r\n        }\r\n    }, [value, delay])\r\n\r\n    return debouncedValue\r\n}","import {TypedUseSelectorHook, useSelector} from \"react-redux\";\r\nimport {RootState} from \"../store/rootReducer\";\r\n\r\nexport const useTypedSelector: TypedUseSelectorHook<RootState> = useSelector","import axios from \"axios\";\r\nimport {PhotoParamsType} from \"../types/photo\";\r\n\r\nconst api = axios.create({\r\n    baseURL: `${process.env.REACT_APP_API_URL}`,\r\n    headers: {\r\n        \"Authorization\": `Client-ID ${process.env.REACT_APP_API_KEY}`,\r\n    }\r\n});\r\n\r\nexport const fetchPhotos = (page: number, limit: number) => {\r\n    return api.get(`/photos`,\r\n        {\r\n            params: {page, per_page: limit}\r\n        })\r\n}\r\n\r\nexport const fetchPhotoById = (params: PhotoParamsType) => {\r\n    return api.get(`/photos/${params.id}`)\r\n}\r\n\r\nexport const fetchRelatedPhoto = (params: PhotoParamsType) => {\r\n    return api.get(`/photos/${params.id}/related`)\r\n}\r\n\r\nexport const fetchSearchedPhoto = (page: number, limit: number, query: string) => {\r\n    return api.get('/search/photos/',\r\n        {\r\n            params: {query, page, per_page: limit}\r\n        })\r\n}","import {PhotoType} from \"../../types/photo\";\r\nimport {createAsyncThunk, createSlice, PayloadAction} from \"@reduxjs/toolkit\";\r\nimport {fetchPhotos, fetchSearchedPhoto} from \"../../api/api\";\r\n\r\ninterface getPhotosParamsType {\r\n    page: number\r\n    limit: number\r\n}\r\n\r\ninterface searchPhotosParamsType {\r\n    page: number\r\n    limit: number\r\n    value: string\r\n}\r\n\r\nexport const getPhotos = createAsyncThunk(\r\n    'photos/getPhotos',\r\n    async ({page, limit}: getPhotosParamsType) => {\r\n        try {\r\n            const response = await fetchPhotos(page, limit)\r\n            return response.data\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n)\r\n\r\nexport const getSearchedPhotos = createAsyncThunk(\r\n    'photos/getSearchedPhotos',\r\n    async ({page, limit, value}: searchPhotosParamsType) => {\r\n        try {\r\n            const response = await fetchSearchedPhoto(page, limit, value)\r\n            return response.data.results\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n)\r\n\r\nexport interface PhotosStateType {\r\n    photos: PhotoType[]\r\n    loading: boolean\r\n    error: null | string\r\n    page: number\r\n    limit: number\r\n}\r\n\r\nconst initialState: PhotosStateType = {\r\n    photos: [],\r\n    loading: false,\r\n    error: null,\r\n    page: 1,\r\n    limit: 15\r\n}\r\n\r\nconst photos = createSlice({\r\n    name: 'photos',\r\n    initialState,\r\n    reducers: {\r\n        setPhotoPage(state, action: PayloadAction<number>) {\r\n            state.page = action.payload\r\n        },\r\n        clearPhotos(state) {\r\n            state.photos.splice(0, state.photos.length)\r\n        },\r\n        setIsLoading(state, action: PayloadAction<boolean>) {\r\n            state.loading = action.payload\r\n        }\r\n    },\r\n    extraReducers: builder => {\r\n        builder.addCase(getPhotos.fulfilled, (state, action: PayloadAction<PhotoType[]>) => {\r\n            state.photos = state.photos.concat(action.payload).filter((n, i, a) => n === a.find(m => m.id === n.id))\r\n            state.loading = false\r\n        })\r\n        builder.addCase(getSearchedPhotos.fulfilled, (state, action: PayloadAction<PhotoType[]>) => {\r\n            state.photos = state.photos.concat(action.payload).filter((n, i, a) => n === a.find(m => m.id === n.id))\r\n            state.loading = false\r\n        })\r\n    }\r\n})\r\n\r\nexport const {setPhotoPage, clearPhotos, setIsLoading} = photos.actions\r\nexport default photos.reducer\r\n","import {PhotoParamsType, PhotoType} from \"../../types/photo\";\r\nimport {createAsyncThunk, createSlice, PayloadAction} from \"@reduxjs/toolkit\";\r\nimport {fetchPhotoById, fetchRelatedPhoto} from \"../../api/api\";\r\n\r\nexport const getFetchPhotoById = createAsyncThunk(\r\n    'photo/getPhotoById',\r\n    async (params: PhotoParamsType) => {\r\n        try {\r\n            const response = await fetchPhotoById(params)\r\n            return response.data\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n)\r\n\r\nexport const getRelatedPhotos = createAsyncThunk(\r\n    'photos/getRelatedPhotos',\r\n    async (params: PhotoParamsType) => {\r\n        try {\r\n            const response = await fetchRelatedPhoto(params)\r\n            return response.data.results\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n)\r\n\r\ninterface photoDetailStateType {\r\n    photos: PhotoType[]\r\n    photo: PhotoType | null\r\n    loading: boolean\r\n}\r\n\r\nconst initialState: photoDetailStateType = {\r\n    photos: [],\r\n    photo: null,\r\n    loading: false,\r\n}\r\n\r\nconst photoDetail = createSlice({\r\n    name: 'photoDetail',\r\n    initialState,\r\n    reducers: {},\r\n    extraReducers: builder => {\r\n        builder.addCase(getFetchPhotoById.pending, (state) => {\r\n            state.loading = true\r\n        })\r\n        builder.addCase(getFetchPhotoById.fulfilled, (state, action: PayloadAction<PhotoType>) => {\r\n            state.photo = action.payload\r\n            state.loading = false\r\n        })\r\n        builder.addCase(getRelatedPhotos.fulfilled, (state, action: PayloadAction<PhotoType[]>) => {\r\n            state.photos = action.payload\r\n        })\r\n    }\r\n})\r\n\r\nexport const {} = photoDetail.actions\r\nexport default photoDetail.reducer\r\n","export const setStorage = (key: string, value: any) => {\r\n    localStorage.setItem(key, JSON.stringify(value))\r\n}\r\n\r\nexport const getStorage = (key: string) => {\r\n    return JSON.parse(localStorage.getItem(key) as string)\r\n}","import {createSlice, PayloadAction} from \"@reduxjs/toolkit\";\r\nimport {PhotoType} from \"../../types/photo\";\r\nimport {FAVORITES} from \"../../constants\";\r\nimport {getStorage, setStorage} from \"../../utils/storage/storage\";\r\n\r\ninterface FavoriteTypes {\r\n    photos: PhotoType[]\r\n    checkedPhotoId: string[]\r\n    removedPhotoId: string | null\r\n}\r\n\r\nconst initialState: FavoriteTypes = {\r\n    photos: [],\r\n    checkedPhotoId: [],\r\n    removedPhotoId: null\r\n}\r\n\r\nconst favorites = createSlice({\r\n    name: 'favorites',\r\n    initialState,\r\n    reducers: {\r\n        setFavoritesPhoto(state, action: PayloadAction<PhotoType[]>) {\r\n            state.photos = action.payload\r\n        },\r\n        setFavoritesId(state, action: PayloadAction<string>) {\r\n            state.checkedPhotoId.push(action.payload)\r\n        },\r\n        setInFavorites(state, action: PayloadAction<PhotoType>) {\r\n            const localeStorageItem = getStorage(FAVORITES)\r\n            const arrOfObj = localeStorageItem ? localeStorageItem : []\r\n\r\n            const index = arrOfObj.findIndex((item: PhotoType) => item.id === action.payload.id)\r\n\r\n            if (index !== -1) {\r\n                arrOfObj.splice(index, 1)\r\n                state.removedPhotoId = state.removedPhotoId === action.payload.id ? null : action.payload.id\r\n                setStorage(FAVORITES, arrOfObj)\r\n            } else {\r\n                arrOfObj.push(action.payload)\r\n                setStorage(FAVORITES, arrOfObj)\r\n            }\r\n        }\r\n    },\r\n})\r\n\r\nexport const {setFavoritesPhoto, setInFavorites, setFavoritesId} = favorites.actions\r\nexport default favorites.reducer","import {clearPhotos, getPhotos, getSearchedPhotos, setIsLoading, setPhotoPage} from \"./photos/slice\";\r\nimport {getFetchPhotoById, getRelatedPhotos,} from \"./photoDetail/slice\";\r\nimport {setFavoritesId, setFavoritesPhoto, setInFavorites} from \"./favorites/slice\";\r\n\r\nexport default {\r\n    getPhotos,\r\n    getRelatedPhotos,\r\n    setPhotoPage,\r\n    getSearchedPhotos,\r\n    clearPhotos,\r\n    getFetchPhotoById,\r\n    setFavoritesPhoto,\r\n    setInFavorites,\r\n    setIsLoading,\r\n    setFavoritesId,\r\n}","import {useDispatch} from \"react-redux\";\r\nimport {bindActionCreators} from \"redux\";\r\nimport ActionCreators from \"../store\"\r\n\r\nexport const useActions = () => {\r\n    const dispatch = useDispatch()\r\n    return bindActionCreators(ActionCreators, dispatch)\r\n}","import React from 'react';\r\nimport css from './Preloader.module.scss'\r\n\r\nexport const Preloader = () => {\r\n\r\n    return (\r\n        <div className={css.container}>\r\n            <div className={css.spinner}>\r\n                {Array.from({length: 12}).map((i, index) => <div key={`${i}/${index}`}/>)}\r\n            </div>\r\n        </div>\r\n    )\r\n};","import React, {FC, ReactChild, ReactNode} from 'react';\r\nimport css from \"./DownloadLink.module.scss\"\r\nimport classNames from \"classnames\";\r\n\r\ninterface DownloadLinkType {\r\n    children?: ReactChild | ReactNode\r\n    downloadSrc: string\r\n    className?: string\r\n    detailPage?: boolean\r\n    photoCard?: boolean\r\n}\r\n\r\nexport const DownloadLink: FC<DownloadLinkType> =\r\n    (\r\n        {\r\n            children,\r\n            downloadSrc,\r\n            className,\r\n            detailPage,\r\n            photoCard\r\n        }\r\n    ) => {\r\n\r\n        return (\r\n            <a\r\n                className={classNames(css['download-link'], className ? css[className]: '', {\r\n                    [css['detail-page']]: detailPage,\r\n                    [css['photo-card']]: photoCard\r\n                })}\r\n                href={downloadSrc}\r\n                download\r\n                target=\"_blank\"\r\n                rel='noreferrer'\r\n            >\r\n                {children}\r\n            </a>\r\n        );\r\n    };","import React, {FC, ReactChild, ReactNode} from 'react';\r\nimport css from \"./Button.module.scss\";\r\nimport classNames from \"classnames\";\r\n\r\ninterface ButtonType {\r\n    className?: string\r\n    onClick: () => void\r\n    detailPage?: boolean\r\n    photoCard?: boolean\r\n    children?: ReactChild | ReactNode\r\n}\r\n\r\nexport const Button: FC<ButtonType> =\r\n    (\r\n        {\r\n            children,\r\n            className,\r\n            onClick,\r\n            detailPage,\r\n            photoCard,\r\n        }\r\n    ) => {\r\n        const classNamesVar = classNames(css['in-favorite'], className ? css[className] : '', {\r\n            [css['detail-page']]: detailPage,\r\n            [css['photo-card']]: photoCard\r\n        })\r\n\r\n        return (\r\n            <button\r\n                onClick={onClick}\r\n                className={classNamesVar}\r\n            >\r\n                {children}\r\n            </button>\r\n        )\r\n    }","import React, {FC} from 'react';\r\nimport css from \"./ResponsiveImage.module.scss\"\r\nimport {useWindowSize} from \"../../../hooks/useWindowSize\";\r\nimport {BREAKPOINTS} from \"../../../constants\";\r\n\r\ninterface ResponsiveImageType {\r\n    src: string\r\n    alt: string | undefined\r\n    width: number\r\n    height: number\r\n    dataId?: string\r\n    detailPage: boolean\r\n}\r\n\r\nexport const ResponsiveImage: FC<ResponsiveImageType> = ({src, alt, width, height, dataId, detailPage}) => {\r\n    const {w} = useWindowSize()\r\n\r\n    return (\r\n        <div\r\n            className={css['img-container']}\r\n            style={{maxWidth: `calc((100vh ${detailPage ? `${w > BREAKPOINTS['576'] ? '- 280px' : ''}` : ''}) * ${width / height})`}}\r\n        >\r\n            < div style={{paddingBottom: `${(height / width * 100)}%`}}/>\r\n            <img className={!detailPage ? css[`hidden`] : ''} data-id={dataId} src={src} alt={alt}/>\r\n        </div>\r\n    );\r\n};","import {RootState} from \"../rootReducer\";\r\n\r\nexport const getFavorite = (state: RootState) => state.favorites","import React, {useEffect} from 'react';\r\nimport css from \"./PhotoItem.module.scss\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {PhotoType} from \"../../types/photo\";\r\nimport {DownloadLink} from \"../UI/DownloadLink/DownloadLink\";\r\nimport {Button} from \"../UI/Button/Button\";\r\nimport {useActions} from \"../../hooks/useActions\";\r\nimport {ResponsiveImage} from \"../UI/ResponsiveImage/ResponsiveImage\";\r\nimport {useTypedSelector} from \"../../hooks/useTypedSelector\";\r\nimport {getFavorite} from \"../../store/favorites/selectors\";\r\n\r\nexport const PhotoItem = ({id, user, links, urls, alt_description, width, height}: PhotoType) => {\r\n    const {setInFavorites} = useActions()\r\n    const {checkedPhotoId} = useTypedSelector(getFavorite)\r\n\r\n    const {name, profile_image} = user\r\n    const {regular} = urls\r\n    const {download} = links\r\n\r\n    return (\r\n        <div className={css['card']}>\r\n            <div className={css['card__info']}>\r\n                <div className={css['card__overlay']}/>\r\n                <div className={css['owner']}>\r\n                    <img\r\n                        className={css['owner__img']}\r\n                        src={profile_image.large}\r\n                        alt={name}\r\n                    />\r\n                    <div className={css['owner__name']}>\r\n                        {name}\r\n                    </div>\r\n                </div>\r\n                <div className={css['actions']}>\r\n                    <Button\r\n                        onClick={() => {\r\n                            setInFavorites({id, user, links, urls, alt_description, width, height})\r\n                        }}\r\n                        photoCard\r\n                        className={checkedPhotoId.includes(id) ? 'checked' : ''}\r\n                    >\r\n                        <svg viewBox=\"0 0 23 21\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                            <path\r\n                                d=\"M13.0516 20.2443C12.1779 21.0597 10.8329 21.0597 9.95928 20.2325L9.83283 20.1143C3.79765 14.501 -0.145337 10.8257 0.00410514 6.24047C0.0730786 4.23147 1.07319 2.30521 2.69407 1.17072C5.7289 -0.956453 9.47646 0.0362259 11.4997 2.47065C13.5229 0.0362259 17.2705 -0.96827 20.3053 1.17072C21.9262 2.30521 22.9263 4.23147 22.9953 6.24047C23.1562 10.8257 19.2017 14.501 13.1665 20.138L13.0516 20.2443Z\"\r\n                            />\r\n                        </svg>\r\n                    </Button>\r\n\r\n                    <Link to={`/photo/${id}`}>\r\n                        <svg viewBox=\"0 0 37 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                            <path fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n                                  d=\"M21.5833 4.5C21.5833 3.67157 22.2736 3 23.125 3H32.375C33.2264 3 33.9167 3.67157 33.9167 4.5V13.5C33.9167 14.3284 33.2264 15 32.375 15C31.5236 15 30.8333 14.3284 30.8333 13.5V6H23.125C22.2736 6 21.5833 5.32843 21.5833 4.5Z\"\r\n                                  />\r\n                            <path fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n                                  d=\"M4.62499 21C5.47643 21 6.16666 21.6716 6.16666 22.5V30H13.875C14.7264 30 15.4167 30.6716 15.4167 31.5C15.4167 32.3284 14.7264 33 13.875 33H4.62499C3.77356 33 3.08333 32.3284 3.08333 31.5V22.5C3.08333 21.6716 3.77356 21 4.62499 21Z\"\r\n                                  />\r\n                            <path fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n                                  d=\"M33.4651 3.43934C34.0672 4.02513 34.0672 4.97487 33.4651 5.56066L22.6735 16.0607C22.0714 16.6464 21.0953 16.6464 20.4932 16.0607C19.8912 15.4749 19.8912 14.5251 20.4932 13.9393L31.2849 3.43934C31.8869 2.85355 32.8631 2.85355 33.4651 3.43934Z\"\r\n                                  />\r\n                            <path fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n                                  d=\"M16.5068 19.9393C17.1088 20.5251 17.1088 21.4749 16.5068 22.0607L5.71512 32.5607C5.11306 33.1464 4.13693 33.1464 3.53487 32.5607C2.93281 31.9749 2.93281 31.0251 3.53487 30.4393L14.3265 19.9393C14.9286 19.3536 15.9047 19.3536 16.5068 19.9393Z\"\r\n                                  />\r\n                        </svg>\r\n                    </Link>\r\n\r\n                    <DownloadLink downloadSrc={download} photoCard>\r\n                        <svg viewBox=\"0 0 20 26\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                            <path fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n                                  d=\"M14.25 9.45837H16.5025C17.7633 9.45837 18.3867 10.9884 17.4942 11.8809L10.9917 18.3834C10.4392 18.9359 9.54668 18.9359 8.99418 18.3834L2.49168 11.8809C1.59918 10.9884 2.23668 9.45837 3.49751 9.45837H5.75001V2.37504C5.75001 1.59587 6.38751 0.958374 7.16668 0.958374H12.8333C13.6125 0.958374 14.25 1.59587 14.25 2.37504V9.45837ZM1.50001 25.0417C0.720844 25.0417 0.0833435 24.4042 0.0833435 23.6251C0.0833435 22.8459 0.720844 22.2084 1.50001 22.2084H18.5C19.2792 22.2084 19.9167 22.8459 19.9167 23.6251C19.9167 24.4042 19.2792 25.0417 18.5 25.0417H1.50001Z\"\r\n                            />\r\n                        </svg>\r\n                    </DownloadLink>\r\n                </div>\r\n            </div>\r\n\r\n            <ResponsiveImage\r\n                src={regular}\r\n                alt={alt_description}\r\n                width={width}\r\n                height={height}\r\n                dataId={id}\r\n                detailPage={false}\r\n            />\r\n        </div>\r\n    )\r\n}","import React, {FC, ReactChildren, ReactNode} from 'react';\r\nimport css from './PhotoNotFound.module.scss'\r\n\r\ninterface PhotoNotFoundType {\r\n    children?: ReactChildren | ReactNode\r\n}\r\n\r\nexport const PhotoNotFound: FC<PhotoNotFoundType> = ({children}) => {\r\n    return (\r\n        <div className={css['container']}>\r\n            {children}\r\n        </div>\r\n    );\r\n};","import React, {FC} from 'react';\r\nimport css from './PhotoGrid.module.scss'\r\nimport Masonry from \"react-masonry-css\";\r\nimport {PhotoGridProps} from \"../../types/photo\";\r\nimport {PhotoItem} from \"../PhotoItem/PhotoItem\";\r\nimport {PhotoNotFound} from \"../UI/PhotoNotFound/PhotoNotFound\";\r\nimport {BREAKPOINTS} from \"../../constants\";\r\n\r\nexport const PhotoGrid: FC<PhotoGridProps> = ({photos, children}) => {\r\n    return (\r\n        <div className={css['grid-container']}>\r\n            {children}\r\n            {photos\r\n                ? <Masonry\r\n                    breakpointCols={{default: 3, [BREAKPOINTS[\"1024\"]]: 2, [BREAKPOINTS[\"576\"]]: 1}}\r\n                    className={css['grid']}\r\n                    columnClassName={css['column']}\r\n                >\r\n                    {photos.map((items, index) => <PhotoItem key={`${items.id}${index}`} {...items}/>)}\r\n                </Masonry>\r\n            : <PhotoNotFound>Фото не найдено</PhotoNotFound>}\r\n\r\n        </div>\r\n    );\r\n};","import {Button} from \"./Button/Button\";\r\nimport {DownloadLink} from \"./DownloadLink/DownloadLink\";\r\nimport {PhotoNotFound} from \"./PhotoNotFound/PhotoNotFound\";\r\nimport {Preloader} from \"./Preloader/Preloader\";\r\nimport {ResponsiveImage} from \"./ResponsiveImage/ResponsiveImage\";\r\n\r\nexport default {Button, DownloadLink, PhotoNotFound, Preloader, ResponsiveImage}","import React, {FC} from 'react';\r\nimport css from './PhotoDetail.module.scss'\r\nimport {PhotoType} from \"../../types/photo\";\r\nimport {useActions} from \"../../hooks/useActions\";\r\nimport UiComponents from \"../UI\"\r\n\r\nexport const PhotoDetail: FC<PhotoType> = (\r\n    {\r\n        id,\r\n        user,\r\n        urls,\r\n        alt_description,\r\n        links,\r\n        width,\r\n        height,\r\n    }\r\n) => {\r\n    const {setInFavorites} = useActions()\r\n    const {DownloadLink, Button, ResponsiveImage} = UiComponents\r\n\r\n    const {profile_image, name} = user\r\n    const {regular} = urls\r\n    const {download} = links\r\n\r\n    return (\r\n        <div className={css.head}>\r\n            <div className={css.background} style={{backgroundImage: `url(${regular})`}}>\r\n                <div className={css.blur}/>\r\n            </div>\r\n            <div className=\"container\">\r\n                <div className={css.head__top}>\r\n                    <div className={css.user}>\r\n                        <img className={css.user__avatar} src={profile_image.large} alt=\"\"/>\r\n                        <div className={css.user__name}>{name}</div>\r\n                    </div>\r\n                    <div className={css.buttons}>\r\n                        <Button\r\n                            onClick={() => setInFavorites({id, user, links, urls, alt_description, width, height})}\r\n                            detailPage\r\n                        >\r\n                            <svg viewBox=\"0 0 23 21\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                <path\r\n                                    d=\"M13.0516 20.2443C12.1779 21.0597 10.8329 21.0597 9.95928 20.2325L9.83283 20.1143C3.79765 14.501 -0.145337 10.8257 0.00410514 6.24047C0.0730786 4.23147 1.07319 2.30521 2.69407 1.17072C5.7289 -0.956453 9.47646 0.0362259 11.4997 2.47065C13.5229 0.0362259 17.2705 -0.96827 20.3053 1.17072C21.9262 2.30521 22.9263 4.23147 22.9953 6.24047C23.1562 10.8257 19.2017 14.501 13.1665 20.138L13.0516 20.2443Z\"\r\n                                />\r\n                            </svg>\r\n                        </Button>\r\n\r\n                        <DownloadLink downloadSrc={download} detailPage>\r\n                            <svg viewBox=\"0 0 20 26\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                <path fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n                                      d=\"M14.25 9.45837H16.5025C17.7633 9.45837 18.3867 10.9884 17.4942 11.8809L10.9917 18.3834C10.4392 18.9359 9.54668 18.9359 8.99418 18.3834L2.49168 11.8809C1.59918 10.9884 2.23668 9.45837 3.49751 9.45837H5.75001V2.37504C5.75001 1.59587 6.38751 0.958374 7.16668 0.958374H12.8333C13.6125 0.958374 14.25 1.59587 14.25 2.37504V9.45837ZM1.50001 25.0417C0.720844 25.0417 0.0833435 24.4042 0.0833435 23.6251C0.0833435 22.8459 0.720844 22.2084 1.50001 22.2084H18.5C19.2792 22.2084 19.9167 22.8459 19.9167 23.6251C19.9167 24.4042 19.2792 25.0417 18.5 25.0417H1.50001Z\"\r\n                                />\r\n                            </svg>\r\n                            Download\r\n                        </DownloadLink>\r\n                    </div>\r\n                </div>\r\n\r\n                <ResponsiveImage\r\n                    width={width}\r\n                    height={height}\r\n                    src={regular}\r\n                    alt={alt_description}\r\n                    detailPage={true}\r\n                />\r\n            </div>\r\n        </div>\r\n    )\r\n}","import {getStorage, setStorage} from \"./storage/storage\";\r\nimport {scrollToTop} from \"./scroll/scrollToTop\";\r\n\r\nexport default {setStorage, getStorage, scrollToTop}","export const scrollToTop = () => {\r\n    window.scrollTo({top: 0})\r\n}","import {RootState} from \"../rootReducer\";\r\n\r\nexport const getPhoto = (state: RootState) => state.photoDetail","import React, {FC, useEffect} from 'react';\r\nimport {useParams} from 'react-router-dom'\r\nimport {useTypedSelector} from \"../hooks/useTypedSelector\";\r\nimport {useActions} from \"../hooks/useActions\";\r\nimport {PhotoParamsType} from \"../types/photo\";\r\nimport {Preloader} from \"../components/UI/Preloader/Preloader\";\r\nimport {PhotoGrid} from \"../components/PhotoGrid/PhotoGrid\";\r\nimport {PhotoDetail} from \"../components/PhotoDetail/PhotoDetail\";\r\nimport utils from \"../utils\";\r\nimport {getPhoto} from \"../store/photoDetail/selectors\";\r\n\r\nexport const Photo: FC = () => {\r\n    const {photo, photos, loading} = useTypedSelector(getPhoto)\r\n    const {getFetchPhotoById, getRelatedPhotos} = useActions()\r\n    const params = useParams<PhotoParamsType>()\r\n    const {scrollToTop} = utils\r\n\r\n    useEffect(() => {\r\n        getFetchPhotoById(params)\r\n        getRelatedPhotos(params)\r\n        scrollToTop()\r\n    }, [params.id])\r\n\r\n    if (loading) {\r\n        return (\r\n            <Preloader/>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {\r\n                photo &&\r\n                <>\r\n                    <PhotoDetail {...photo}/>\r\n                    <div className=\"container\">\r\n                        <PhotoGrid photos={photos}>\r\n                            <h3>Похожие фотографии</h3>\r\n                        </PhotoGrid>\r\n                    </div>\r\n                </>\r\n            }\r\n        </>\r\n    )\r\n}","import {RootState} from \"../rootReducer\";\r\n\r\nexport const getPhotoCollection = (state: RootState) => state.photos","import React, {FC, useEffect} from 'react';\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\nimport {useTypedSelector} from \"../hooks/useTypedSelector\";\r\nimport {useActions} from \"../hooks/useActions\";\r\nimport {PhotoGrid} from \"../components/PhotoGrid/PhotoGrid\";\r\nimport {getPhotoCollection} from \"../store/photos/selectors\";\r\nimport {Preloader} from \"../components/UI/Preloader/Preloader\";\r\n\r\nexport const Home: FC = () => {\r\n    const {photos, page, limit, loading} = useTypedSelector(getPhotoCollection)\r\n    const {getPhotos, setPhotoPage, clearPhotos, setIsLoading} = useActions()\r\n\r\n    useEffect(() => {\r\n        clearPhotos()\r\n        setIsLoading(true)\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        getPhotos({page, limit})\r\n    }, [page, limit])\r\n\r\n    const handleSetPhotoPage = () => {\r\n        const nextPage = page + 1\r\n        setPhotoPage(nextPage)\r\n    }\r\n\r\n    if (loading) {\r\n        return (\r\n            <Preloader/>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"container\">\r\n                <InfiniteScroll\r\n                    next={handleSetPhotoPage}\r\n                    hasMore={true} loader={''}\r\n                    dataLength={photos.length}\r\n                    scrollThreshold={.7}\r\n                >\r\n                    <PhotoGrid photos={photos}/>\r\n                </InfiniteScroll>\r\n            </div>\r\n        </>\r\n\r\n    )\r\n}","import React, {useEffect} from 'react';\r\nimport {PhotoGrid} from \"../components/PhotoGrid/PhotoGrid\";\r\nimport {useTypedSelector} from \"../hooks/useTypedSelector\";\r\nimport {getFavorite} from \"../store/favorites/selectors\";\r\nimport {useActions} from \"../hooks/useActions\";\r\nimport utils from \"../utils\";\r\nimport {PhotoNotFound} from \"../components/UI/PhotoNotFound/PhotoNotFound\";\r\nimport {FAVORITES} from \"../constants\";\r\n\r\nexport const Favorites = () => {\r\n    const {photos, removedPhotoId} = useTypedSelector(getFavorite)\r\n    const {setFavoritesPhoto} = useActions()\r\n    const {getStorage} = utils\r\n\r\n    useEffect(() => {\r\n        setFavoritesPhoto(getStorage(FAVORITES))\r\n    }, [removedPhotoId])\r\n\r\n    return (\r\n        <div className={'container'}>\r\n            {photos && photos.length !== 0\r\n                ? <PhotoGrid photos={photos}/>\r\n                : <PhotoNotFound>Нет избранных фото</PhotoNotFound>\r\n            }\r\n        </div>\r\n    )\r\n}","import React, {useEffect} from 'react';\r\nimport {useLocation} from \"react-router-dom\";\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\nimport {PhotoGrid} from \"../components/PhotoGrid/PhotoGrid\";\r\nimport {Preloader} from \"../components/UI/Preloader/Preloader\";\r\nimport {useTypedSelector} from \"../hooks/useTypedSelector\";\r\nimport {getPhotoCollection} from \"../store/photos/selectors\";\r\nimport {useActions} from \"../hooks/useActions\";\r\nimport {LocationType} from \"../types/location\";\r\nimport {PhotoNotFound} from \"../components/UI/PhotoNotFound/PhotoNotFound\";\r\n\r\nexport const Search = () => {\r\n    const {photos, page, limit, loading} = useTypedSelector(getPhotoCollection)\r\n    const {getSearchedPhotos, setPhotoPage, clearPhotos, setIsLoading} = useActions()\r\n    const location = useLocation<LocationType>()\r\n    const value = location.search.replace(/\\?/, '')\r\n\r\n    useEffect(() => {\r\n        clearPhotos()\r\n        setIsLoading(true)\r\n    }, [value])\r\n\r\n    useEffect(() => {\r\n        getSearchedPhotos({page, limit, value})\r\n    }, [page, limit, value])\r\n\r\n    const handleSetPhotoPage = () => {\r\n        const nextPage = page + 1\r\n        setPhotoPage(nextPage)\r\n    }\r\n\r\n    if (loading) {\r\n        return (\r\n            <Preloader/>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"container\">\r\n                {photos.length !== 0\r\n                    ? <InfiniteScroll\r\n                        next={handleSetPhotoPage}\r\n                        hasMore={true} loader={''}\r\n                        dataLength={photos.length}\r\n                        scrollThreshold={.7}\r\n                    >\r\n                        <PhotoGrid photos={photos}/>\r\n                    </InfiniteScroll>\r\n                    : <PhotoNotFound>По Вашему запросу <br/>не найдено ни одно фото</PhotoNotFound>\r\n                }\r\n            </div>\r\n        </>\r\n\r\n    )\r\n}","import React, {FC} from 'react';\nimport {Route} from 'react-router-dom'\nimport {Header} from \"./components/Header/Header\";\nimport {Photo} from \"./pages/Photo\";\nimport {Home} from \"./pages/Home\";\nimport {Favorites} from \"./pages/Favorites\";\nimport {Search} from \"./pages/Search\";\n\nexport const App: FC = () => {\n    return (\n        <>\n            <Header/>\n            <Route exact path=\"/\">\n                <Home/>\n            </Route>\n            <Route path=\"/photo/:id\">\n                <Photo/>\n            </Route>\n            <Route path=\"/favorites\">\n                <Favorites/>\n            </Route>\n            <Route path=\"/search\">\n                <Search/>\n            </Route>\n        </>\n    );\n}","import {combineReducers} from \"@reduxjs/toolkit\";\r\nimport photos from \"./photos/slice\";\r\nimport photoDetail from \"./photoDetail/slice\";\r\nimport favorites from \"./favorites/slice\";\r\n\r\nexport const rootReducer = combineReducers({\r\n    photos,\r\n    photoDetail,\r\n    favorites,\r\n})\r\n\r\nexport type RootState = ReturnType<typeof rootReducer>","import {rootReducer} from \"./rootReducer\";\r\nimport {configureStore} from \"@reduxjs/toolkit\";\r\n\r\nexport const store = configureStore({\r\n    reducer: rootReducer\r\n})","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {App} from './App';\nimport 'normalize.css'\nimport './style/index.scss'\nimport {Provider} from \"react-redux\";\nimport {store} from \"./store/store\";\nimport {BrowserRouter} from \"react-router-dom\";\n\nReactDOM.render(\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\n        <Provider store={store}>\n            <App/>\n        </Provider>\n    </BrowserRouter>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}